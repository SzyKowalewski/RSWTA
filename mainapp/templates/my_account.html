{% extends "base.html" %}
{% block title %}
   User
{% endblock %}
{% block content %}
<style>
    input[type=checkbox] {
    transform: scale(1.5);
}
</style>
<div style="margin: 20px; color: white;">
    <h2>{{user.Nazwa_Uzytkownika}}</h2>
    <h2>{{user.E_mail}}</h2>
    <h2 style="clear: both;"><label>Dane publiczne:
        {% if user.Publiczne %} <input type="checkbox" checked disabled> {% else %}
        <input type="checkbox" disabled> {% endif %}</label>
    </h2><br />
    <a href="/my_watchlist/"><div class="button" style="float: left; margin-right: 20px;"> Do obejrzenia</div></a>
    <a href="/my_watched_list/"><div class="button" style="float: left"> Obejrzane</div></a>

    <div style="margin: 20px; cursor: pointer; width: fit-content; user-select: none;"
         class="button" onclick="popup()" id="popup_button">Edytuj swoje konto</div>
         <div id="edit_profile_popup" style="display: none">

        <form action="" method="POST">
            <label>Nazwa UÅ¼ytkownika: <input type="text" name="username" /></label><br /><br />
            <label>Email: <input type="text" name="email" /></label><br /><br />
            <input type="hidden" name="id_uzytkownika" value="{{ user.id }}" />

            <input type="submit" value="Edytuj Dane">
            {% csrf_token %}
        </form>
        <span class="error">{{ error }}</span>
    </div>

<script>
    let visible = false;
    function popup(){
        if(!visible){
            visible = true;
            document.getElementById("edit_profile_popup").style.display = "";
            document.getElementById("popup_button").innerHTML = "Anuluj";
        }
        else{
            visible = false;
            document.getElementById("edit_profile_popup").style.display = "none";
            document.getElementById("popup_button").innerHTML = "Edytuj swoje konto";
        }
    }
</script>


{% endblock %}